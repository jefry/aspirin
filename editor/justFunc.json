{
  "add": "\ntpl = `\n<div class=\"btn-group\">\n<button class=\"btn btn-mini btn-default act-back\">\n<span class=\"icon icon-left-open-big\"></span>\n</button>\n<button class=\"btn btn-mini btn-default act-save\">\n<span class=\"icon icon-check\"></span>\n</button>\n</div>\n<div class=\"btn-group\">\n<input type=\"text\" class=\"form-control form-control-mini\" \nplaceholder=\"enter name\">\n</div>\n`;\n\nel = $(tpl);\n\n$('#second_toolbar').html(el)\nel.find('.act-back').click(just.render);\nel.find('.act-save').click(function(){\n\tvar nn = el.find('input').val().trim();\n  if(nn && nn != ''){\n\t  just.setName(nn);\n  \tjust.render()\n  }\n});\n",
  "edit": "just.run2 = just.run; \njust.run = just.edit;\n\n$('#second_toolbar').addClass('act-edit')\n",
  "save": "if(just.name){\n\tjust.set(just.name, editor.getValue())\n}else{\n  just.run('add');\n}\njust.save();\n",
  "load": "just.load();\n just.render();\n",
  "ls": "wls = _(windowManager.windows).map(function(v){\n  return v.name + '   <sup>ø ' \n    + v.object.getPosition() + ' se ' + v.object.getSize() + ' </sup>'\n})\njustShowResult(van_dump(wls), true)\n",
  "color": "\n//justShowResult(van_dump(arguments))\nif(arguments[1]){\n  arguments[1].classList.toggle('btn-default');\n  arguments[1].classList.toggle('btn-warning');\n}\nif(typeof colorRotate == 'undefined' || !colorRotate){\n//  n=0;\n  colorRotate = setInterval(function(){\n    n = n%359;\n    clr = `hsla(${n++},82%,52%,0.5)`;\n    $('body').css('backgroundColor',clr);\n    //justShowResult(n)\n  },50);\n}else{\n  clearInterval(colorRotate);\n  colorRotate = false;\n}\n\n",
  "sJ2": "var res = _(eval(editor.getValue())).chain()\n  .mapObject(function(v, k){\n    var tpl = `<div class=\"toolbar bar result\">\n<pre> <big>${k}</big>\t\n   <code>${_.escape(String(v).trim())}</code>\n</pre></div>`\n    return tpl;\n  })\n  .values()\n\t//.first(7)\n  .value()\n  .join('<hr/>\\n')\n\n$('#composite').html(res);\nsyncSizeLines()",
  "clr": "//createBrowser('http://gooogle.com')\n$('#composite').html('');\n$('body').css('backgroundColor','transparent');\njustShowResult(null)\ndocument.querySelector('header').style.background = 'rgba(41, 120, 177, 0.5)';\n",
  "md5": "hash = md5(editor.getValue())\njustShowResult(van_dump(hash))\n",
  "ksave": "if(just.name){\n  if(!isAutoRuned)\n\tKnows.save(just.name, editor.getValue());\n  if(w = getWin(just.name)){\n  \tw.execute(\"Knows.run('\"+just.name+\"')\")\n  \tjustShowResult('<b style=\"color:orange;\">Saved code and Updated window {'+just.name+'}</b>', true)\n  }else{\n    justShowResult('<b style=\"color:green;\">Only saved code</b>', true)\n  }\n}else{\n  just.run('add');\n}\n'wait'\n",
  "Œ": "\n$('#editor').toggleClass('fliped')\n\n",
  "ß": "\n$('#composite').toggleClass('joinY')\nsyncSizeLines()\n",
  "krun": "if(w = getWin(just.name))\n  w.execute(`Knows.run('${just.name}');`)\nelse\n\tKnows.run('editor');\n\n",
  "kedit": "if(just.name){\n\tkey = just.name;\n  runCodeOverride = function(){\n     just.run('ksave');\n  }\n\tKnows.getDb().findOne({key:key}).exec(function(err,data){\n\t\tstr = data.source\n\t\teditor.setValue(str) //editor.getValue()+'\\n'+\n\t})\n}else{\n  just.run('add');\n}\n",
  "kls": "\nKnows.getDb().find({ key: { $exists: true } }).sort({key:1}).exec(function (err, docs) {\n  //justShowResult(_.zip(_(docs).pluck('key'),_(docs).pluck('source')).join('\\n--\\n'))\n  \n  var list = _(docs).chain()\n\t.map(function(v,k){\n    return `<button class=\"btn btn-mini btn-default act-choose\" data-key=\"${v.key}\">\n<span class=\"icon icon-down-open-mini\"></span> \n<span class=\"icon icon-text\"> ${v.key}</span>\n</button>`;})\n  .value().join('');\n\t\n  tpl = `\n<div class=\"btn-group\">\n<button class=\"btn btn-mini btn-default act-back\">\n<span class=\"icon icon-left-open-big\"></span>\n</button>\n<button class=\"btn btn-mini btn-default act-save\">\n<span class=\"icon icon-check\"></span>\n</button>\n</div>\n<div class=\"btn-group\">${list}</div>`;  \n\n  el = $('#second_toolbar');\n  el.html(tpl);\n  el.find('.act-back').click(just.render);\n  el.find('.act-choose').click(function(e){\n    var nn = $(this).data('key');\n    if(nn && nn != ''){\n      just.setName(nn);\n      just.render()\n      just.run('kedit');\n    }\n  });\n  \n  justShowResult('done')\n});\n//Object.keys(kk)\n'wait'\n\n",
  "ToT": "q = !(typeof q == 'boolean') || !q;\nexw = [\"toolbar\", \"listknows\", \"showTime\", \"fulloverlay\"];\n_(windowManager.windows).chain()\n  .filter(function(w){\n    return !exw.includes(w.name)\n  })\n  .each(function(w){\n  w.object.setAlwaysOnTop(q);\n})\n\n",
  "ignore_mouse": "\nw = getWin(just.name)\nw.setIgnoreMouseEvents(!w.isIgnoreMouseEvents())\n",
  "jetpack_sample": "\njetpack.find(remote.app.getHomeDir()+'/Desktop/',\n             { matching: 'Screen Shot*'})\n",
  "chromeAllTabs": "\nalltabs = jetpack.read('../allTabs_chrome.json', 'json');\njustShowResult(_(alltabs).pluck('url').join('\\n'))\n",
  "editor_0": "tf = false || !tf\nw = getWin(just.name)\nw.object.setIgnoreMouseEvents(tf)\n",
  "resulttoMIN0": "var resWin = giveWin('results_from_editor');\nresWin.object.setSize(700,500)\n//justShowResult(van_dump(arguments))\njustResultToMin = function(){\n  var text = eval(editor.getValue());\n  windowManager.sharedData.set('minTest0', {'content': text});\n\n  \n  /*\n  var bounds = cw.getBounds();\n  resWin.object.setBounds({\n    \"x\": bounds.x,\n    \"y\": bounds.y+bounds.height,\n    \"width\": 680,\n    \"height\": 250\n  }, true);\n  /**/\n  resWin.execute(`\ndocument.getElementById('isText').onclick=function(){\n  textMode = !textMode; \n  document.getElementById('isText').innerText = textMode?'[TEXT]':'[HTML]';  \ndata = windowManager.sharedData.fetch('minTest0');\n  setData(data.content); \n}\ndata = windowManager.sharedData.fetch('minTest0');\n  setData(data.content)`);\n  \n}\n\n\nif(arguments[1]){\n  arguments[1].classList.toggle('btn-default');\n  arguments[1].classList.toggle('btn-warning');\n}\n\nif(typeof resulttomin == 'undefined' || !resulttomin){\n  runCodeOverride = justResultToMin;\n  resulttomin = true\n}else{\n  runCodeOverride = false;\n  resulttomin = false;\n}\n\n",
  "SaveToCodeList": "if(just.name){\n\tsource = editor.getValue()\n  hash = md5(source)\n  doc = { key: just.name || hash, source: source, md5: hash, system: 'solar', isFunc: false }\n\n  Database.getDb().update({key:doc.key}, doc, {upsert: true});\n\n}else{\n  just.run('add');\n}\n\n",
  "addMatrixXYfunc": "if(just.name){\n\tsource = editor.getValue()\n  hash = md5(source)\n  doc = { key: just.name, source: source, md5: hash, matrix: 'matrix1', isFunc: true }\n\n  Matrix.getDb().update({key:doc.key}, doc, {upsert: true});\n cw.close()\n}else{\n  just.run('add');\n}\n\n",
  "deleteMatrixXYfunc": "if(just.name){\n\tsource = editor.getValue()\n  hash = md5(source)\n  doc = { key: just.name, matrix: 'matrix1', isFunc: true }\n\n  Matrix.getDb().remove({key:doc.key});\n  cw.close()\n}else{\n  just.run('add');\n}\n\n",
  "matrix1": "cw.setBounds({\"x\": 830,\"y\": 60, \"width\": 500, \"height\": 350}, true);\ncw.setAlwaysOnTop(!true)\ntpl = jade.compileFile('./matrix/tpl.jade');\ntxt = tpl({name:'matrix_test_1'})\nsetContent(txt);\npreout = document.getElementById('preout');\nqcount = document.getElementById('qcount');\nfuncClass = {};\n///////////////////////////////////////////////////////////////\nvar streamer = new ya.speechkit.SpeechRecognition();\n\naska_speech_recording = function(){\n  window.ya.speechkit.settings.apikey = 'f7466144-de15-4c9e-b593-375ef49027b8';\n  streamer.start({\n    format: ya.speechkit.FORMAT.PCM44,\n    initCallback: function () {\n      console.log(\"Началась запись звука.\");\n    },\n    dataCallback: function (text, done, merge, time) {\n      if(done == true){\n        //if(text != \"\"){  \n        text = text.substring(0,text.length-1);\n\n        speechQuant = {\n          speed:{\n            x:0,\n            y:1\n          },\n          x:32,\n          y:1,\n          data:text\n        };\n        //console.log(text);\n\n        quants.push(JSON.parse(JSON.stringify(speechQuant)));\n        windowManager.sharedData.set('quants', quants);\n      }\n    },\n    errorCallback: function (err) {\n      speechQuant = {\n        speed:{\n          x:0,\n          y:1\n        },\n        x:34,\n        y:1,\n        data:'возникла ошибка'\n      };\n      //console.log(text);       \n      quants.push(JSON.parse(JSON.stringify(speechQuant)));\n      windowManager.sharedData.set('quants', quants);\n    },\n    infoCallback: function (sent_bytes, sent_packages, processed, format) {\n    },\n    stopCallback: function () {\n      console.log(\"Запись звука прекращена.\");\n    },\n    particialResults: false,\n    utteranceSilence: 1\n  });\n}\n////////////////////////////////////////////////////////////////\nnew_bazon = function(xg,yg,dat){\n  speechQuant2 = {\n    speed:{\n      x:0,\n      y:1\n    },\n    x:xg,\n    y:yg,\n    data:dat\n  };\n  //console.log(text);       \n  quants.push(JSON.parse(JSON.stringify(speechQuant2)));\n  windowManager.sharedData.set('quants', quants);\n}\n////////////////////////////////////////////////////////////////\nmatrix_new_bazon = function(xg,yg){\n  speechQuant2 = {\n    speed:{\n      x:0,\n      y:1\n    },\n    x:xg,\n    y:yg,\n    data:'0'\n  };\n  //console.log(text);       \n  quants.push(JSON.parse(JSON.stringify(speechQuant2)));\n  windowManager.sharedData.set('quants', quants);\n}\n/////////////////////////////////////////////////////////////////\naska = function(text){\n  var audio = document.getElementById('audio');\n  var url = 'https://tts.voicetech.yandex.net/generate?'+\n      'key=f7466144-de15-4c9e-b593-375ef49027b8'+\n      '&text='+encodeURI(text)+\n      '&format=mp3'+\n      '&lang=ru-RU'+\n      '&topic=queries'+\n      '&robot=1'+\n      '&emotion=evil';\n  audio.src = url;\n  audio.load();\n  audio.onloadeddata = function () {\n    audio.play();\n  }\n}\n////////////////////////////////////////////////////////////////\nif(typeof quants === 'undefined')quants = [];\n//quants = [];\n\ntestQuant = {\n  speed:{\n    x:0,\n    y:1\n  },\n  x:36,\n  y:1,\n  data:'start'\n};\n\nloadFunc = (e,docs)=>{\n\n  out = docs.map(d=>({key:d.key, source:d.source}))\n\n  funcClass = out.reduce((pv,cv,ci)=>{\n    pv[cv.key] = new Function('data', cv.source);\n    return pv;\n  },{})\n  windowManager.sharedData.set('funcClass', funcClass);  \n\n\n  fns = _.functions(funcClass).map(fname=>fname.split('y').reduce((memo, val)=>{\n    if(val.charAt(0)=='x'){\n      memo.x = 1*val.substr(1);\n    }else{\n      memo.y = 1*val}\n    return memo\n  },{name:fname, src: String(funcClass[fname])})) //!!!!!!!!\n\n  windowManager.sharedData.set('matrixFunc', fns);  \n\n  //preout.innerHTML = van_dump(fns);\n\n}\n\ncalculate = q => {\n  //console.log(q)\n  //console.log(\" смотри сюда\");\n  var qq = q;\n  Object.keys(q.speed).forEach(k=>q[k] += q.speed[k])\n  if(0==(qq.x = q.x%67))qq.y++;\n  //qq.y = qq.y%42\n\n  var fname = `x${q.x}y${q.y}`;\n\n  if(funcClass.hasOwnProperty(fname)){\n    funcClass[fname].apply(qq,[qq.data]);\n  }\n\n\n\n}\n\n//preout.innerHTML = van_dump(calculate(testQuant))\n\nstartrun = function(){\n  //funcClass = _.clone(windowManager.sharedData.fetch('funcClass'));\n  quants.forEach(calculate)\n  windowManager.sharedData.set('quants', quants);\n  preout.innerHTML = van_dump(quants);\n  qcount.innerHTML = quants.length;\n}\n\nif(typeof onlyOneLoop === 'undefined')onlyOneLoop = false;\n\nclrint = function(){\n  clearInterval(onlyOneLoop);\n  streamer.pause();\n}\nclrint();\n\nreset = function(){\n  Matrix.getDb().find({ key: { $exists: true } }).sort({key:1}).exec(loadFunc)\n  quants = [];\n}\n\nsettmr = function(){\n  aska_speech_recording();\n  tme = document.getElementById('mtimeout').selectedOptions[0].value;\n  clearInterval(onlyOneLoop);\n  onlyOneLoop = setInterval(startrun,tme);\n}\n\n//settmr();\n//startrun()\n\n\n\n\n\ndocument.getElementById('mquantadd').onclick = ()=>{\n  quants.push(JSON.parse(JSON.stringify(testQuant)));\n  //quants.push(_.extend(_.clone(testQuant), {x:3}));\n  windowManager.sharedData.set('quants', quants);\n}\ndocument.getElementById('mreload').onclick = reset;\ndocument.getElementById('mrun').onclick = settmr;\ndocument.getElementById('mstep').onclick = ()=>{clrint();startrun();};\n\n\n\n//document.getElementById('aska').onclick = aska_yandex_zapros(\"проверка, всё работает правильно\");\ndocument.getElementById('mpause').onclick = clrint;\n\nmwname = 'matrix1_view';\ndocument.getElementById('mview').onclick = \n  ()=>giveWin(mwname).execute(`Knows.run('${mwname}')`);\n\n",
  "X_Y_Speed": "let code = `\n//this.speed.x=0;this.speed.y=-1;// ВЕРХ\n//this.speed.x=1;this.speed.y=0;// ПРАВО\n//this.speed.x=-1;this.speed.y=0;// ЛЕВО\n//this.speed.x=0;this.speed.y=1;// НИЗ\n`\neditor.setValue(code);",
  "matrix_XY_STOP": "let code =\n`\nlet i = quants.indexOf(this);\n    quants.splice(i,1);\n`\neditor.setValue(code);",
  "matrix_hold_byone": "let code =`\nvar count = 0;\nfor(i=0;i<quants.length;i++){\n  if(quants[i].x == this.x && quants[i].y == this.y){\n    count += 1;\n    if(count > 1){\n      quants[i].speed.x = 0;\n      quants[i].speed.y = 0;\n    }else{\n      quants[i].speed.x = 1;\n      quants[i].speed.y = 0;\n    }\n  }\n}\n`\neditor.setValue(code);",
  "matrix_EMPTY": "let code = `\n//EMPTY POINT\n`\neditor.setValue(code);\n",
  "CHAT_SERVER": "\n//parse = data=>{\n//justShowResult(data)\n// console.log(data)\n// window.io.sockets.emit('msg', 'ok');\n//}\nwindow.CHAT_HANDLER = (data, socket)=>{\n  justShowResult(data, true)\n  socket.emit('msg', 'ok: '+data.length);\n}\nwindow.BROADCAST_HANDLER = data=>{\n  io.sockets.emit('brodcast', 'ok');\n}\nif(window.server){\n  'server running';\n}else if(!window.server){\n  server = require('http').createServer();\n  io = require('socket.io')(server);\n  server.listen(3000,'0.0.0.0');\n  io.sockets.on('connection', function(socket) {\n    jLog('somebody connected');\n    socket.on('msg',(d)=>window.CHAT_HANDLER(d,socket));\n    socket.on('broadcast',(d)=>window.BROADCAST_HANDLER(d,socket));\n  });\n  'server start';\n}\n\n\n",
  "CHAT_SEND_ALL": "\n!!io.sockets.emit('msg', editor.getValue());\n\n",
  "CHAT_TO_MATRIX": "window.CHAT_HANDLER = data=>{\n  getWin('matrix1_1')\n    .execute('new_bazon(1,5,decodeURI(\"'+encodeURI(data)+'\"));');\n  justShowResult('message>>\\n'+data)\n}\n\n\n",
  "CHAT_SEND_FROM_MY": "io = require('socket.io')(server);\n//!!io.sockets.emit('brodcast', editor.getValue());\nwindow.BROADCAST_HANDLER = data=>{\n  io.sockets.emit('brodcast', 'ok');\n}\n",
  "Save_4DX": "base_4d = jetpack.read('G:/JSON/Aska_memorys_words_00.json', 'json');\nvar yui = 0\nbase_4d.map((v, index)=>{return v.map((v)=>{if(v == just.name){yui = index}return v})})\n\nbase_4d[yui+1][1] = editor.getValue()\n\njetpack.write('G:/JSON/Aska_memorys_words_00.json', base_4d);\n\n",
  "ASKA_WINDOW": "var gw = new BrowserWindow({enableLargerThanScreen: true,\n                        plugins: true,\n                        x:0,\n                        y:0,\n                        movable: true,\n                        alwaysOnTop: false,\n                        transparent: true,\n                        resizable: true,\n                        skipTaskbar: true,\n                        frame: false ,\n                        center: true,\n                        show: false\n                       });\n//gw.on('closed', function() {\n//  gw = null;\n//});\ngw.loadURL('F:/ajr/aspirin/editor/D3_interface.html');\n\ngw.webContents.once('did-finish-load',function() {\n  let level = jetpack.read('F:/ajr/ASKA_4D_buffer.json','json');\n  gw.setSize(384*level,300+200*level)\n  gw.setPosition(0,0)\n  //gw.webContents.setZoomFactor(1)\n   gw.showInactive(); \n  //var name = 1;\n  //name = 'editor_'+name;\n  //getWin(name).object.focus();\n\njstext = `\nvar robot = require('robotjs');\nvar jetpack = require('fs-jetpack')\n\nlet a = [2016,11,26,12,30]\nwindowManager.sharedData.set('runcode_buffer',a)\n\nvar aw = BrowserWindow.fromId(${gw.id})\nfunction move(x1,y1,x2,y2,aw,state){\n      reload4D();\n      Aska_d3_render()\n      var id = setInterval(frame, 2);\n      function frame(){\n        if(x1 != x2){\n          if(x1 < x2){\n            x1 = x1 + ((x2 - x1)/100+1)|0;\n          }else if(x1 > x2){\n            x1 = x1 - ((x1 - x2)/100+1)|0;\n          }\n        }\n\n        if(y1 != y2){\n          if(y1 < y2){\n            y1 = y1 + ((y2 - y1)/100+1)|0;\n          }else if(y1 > y2){\n            y1 = y1 - ((y1 - y2)/100+1)|0;\n          }\n        }\n\n        if(x1 == x2 && y1 == y2){\n          clearInterval(id)\n          if(state == 1){\n             jetpack.write('F:/ajr/chat/d3_for_aspirin.json',[0,0]);\n          }else{\n             jetpack.write('F:/ajr/chat/d3_for_aspirin.json',[1,0]);\n          }\n        }\n        aw.setPosition(x1,y1);\n   }   \n}\nlet state = 0\nlet x_na4ala = 0\nsetInterval(function(){\nvar arr_st = jetpack.read('F:/ajr/chat/d3_for_aspirin.json', 'json');\nvar mouse = robot.getMousePos();\n  if(mouse.x > 1920+1918 && mouse.y > 80){\n     if(arr_st[0] == 1){\n      if(arr_st[1]== 0){move(x_na4ala,-1600,1,0,aw,1);\n        jetpack.write('F:/ajr/chat/d3_for_aspirin.json',[0,1]);\n      }\n     }else{\n      if(arr_st[1]== 0){move(x_na4ala,0,x_na4ala,-1600,aw,0);\n        jetpack.write('F:/ajr/chat/d3_for_aspirin.json',[1,1]);\n      }\n     }  \n  }\nreal_time()\n}, 200);\n`\ngw.webContents.executeJavaScript(jstext);\n});\n\n\n\n\n\n\n\n",
  "New_4D_Save": "save_new_4d = function(code){\n  let base_4d = jetpack.read('G:/Games/aska.json','json')\n  var code_x = 0;\n  let code_name = code.substring(0,code.search('=')-1);\n  base_4d.map((v, index)=>v.map(v=>(v == code_name)&&(code_x = index)))\n  if(code_x != 0){\n    base_4d[code_x][1] = code;\n    jetpack.write('G:/Games/aska.json',base_4d) \n  }else{\n    code_x = code.substring(0,code.search('=')-1)\n    code = [code_x,code]\n    base_4d.push(code)\n    jetpack.write('G:/Games/aska.json',base_4d)\n  }\n}\nlet ddd = editor.getValue()\nsave_new_4d(ddd);\n\n\n",
  "Reload_win": "let ddd = editor.getValue()\n//alert(ddd)\n\nlet new_win = getWin(createEditor('').name).object\nnew_win.setPosition(...cw.getPosition());\nlet ghw = BrowserWindow.fromId(new_win.id)\n//ddd = '\"'+ddd+'\"';\nlet valu = encodeURI('\"'+ddd+'\"');\n\njstext2 = `\nvar text = decodeURI(\"${valu}\")\ntext = text.substring(1,text.length-1)\neditor.setValue(text);`\nconsole.log(jstext2)\nghw.webContents.executeJavaScript(jstext2);\nsetTimeout(function(){\n  cw.close()\n}, 500);\n\n",
  "next_target_4": "var name = windowManager.getCurrent().name;\nlet ui = 'editor_aska_'.length\nname = name.substring(ui,name.length)\n\nvar arr = windowManager.sharedData.fetch('ask_buffer_window');\nif(arr != '' && name != ''){\n  arr.map((v,i)=>{(v.substring(0,25).search(name) != -1)&&(name = i-1)})\n}\n\n\nif(name === 0){\n  name =  arr[0]\n  name = name.substring(0,name.search(' '))\n  name = 'editor_aska_'+name\n  getWin(name).object.focus()\n}else if(name == ''){\n  name = arr[arr.length-1]\n    name = name.substring(0,name.search(' '))\n    name = 'editor_aska_'+name\n    getWin(name).object.focus()\n}\n////////////////////////////\n\nif(name >= -1){\n  var hhht\n  if(name == -1){\n    hhht = windowManager.sharedData.fetch('ask_first_name');\n    getWin(hhht).object.focus();\n   }else{\n    name = arr[name]\n    name = name.substring(0,name.search(' '))\n    name = 'editor_aska_'+name\n    getWin(name).object.focus()\n    }\n}\n\n//if(name == -1){\n//  hhhy = windowManager.sharedData.fetch('ask_first_name');\n//  getWin(hhhy).object.focus();\n//}\n\n\n",
  "next_target_6": "var name = windowManager.getCurrent().name;\nlet ui = 'editor_aska_'.length\nname = name.substring(ui,name.length)\n//alert(name)\nlet arr = windowManager.sharedData.fetch('ask_buffer_window')\n\nif(arr != '' && name != ''){\n  arr.map((v,i)=>{(v.substring(0,25).search(name) != -1)&&(name = i+1)})\n}\n//alert(name)\nif(name == ''){\n  name = arr[0]\n    name = name.substring(0,name.search(' '))\n    name = 'editor_aska_'+name\n    getWin(name).object.focus()\n}\n////////////////////////////\nif(name >= -1){\n // alert(name)\n  var hhht\n  if(name > arr.length-1){\n    hhht = windowManager.sharedData.fetch('ask_first_name');\n    getWin(hhht).object.focus();\n   }else{\n    name = arr[name]\n    name = name.substring(0,name.search(' '))\n    name = 'editor_aska_'+name\n    getWin(name).object.focus()\n    }\n}",
  "R_Interface": "\ngw = new BrowserWindow({ width: 10, height: 10, x:0, y:0,movable:true,alwaysOnTop:true, transparent: true,skipTaskbar:true, frame: false });\ngw.on('closed', function() {\n  gw = null;\n});\ngw.loadURL('F:/ajr/round_interface/index.html');\ngw.show();\n\n",
  "RI_addButtor": "let hjk = editor.getValue()\nlet button_name = jetpack.read('F:/ajr/round_interface/arr_round_interface.json','json')\nbutton_name.push(hjk)\njetpack.write('F:/ajr/round_interface/arr_round_interface.json',button_name)\n",
  "Save_A4D_code": "save_A4D_code = function(){\n  let code = editor.getValue()\n  let A4D = jetpack.read('F:/ajr/ASKA_4D.json', 'json')\n  let start_run = 0\n  if(code[0]=='/'){start_run = 2}\n  let code_name = code.substring(start_run,code.search('=')-1);\n  if(just.name == code_name){\n    A4D.map((v,index)=>{if(v[0]== just.name){\n      A4D[index][1] = code;\n    }})\n    jetpack.write('F:/ajr/ASKA_4D.json', A4D);\n  }else{\n   A4D.map((v,index)=>{if(v[0]== just.name){\n      A4D[index][0] = code_name;\n      A4D[index][1] = code;\n    }})\n    jetpack.write('F:/ajr/ASKA_4D.json', A4D);\n  }\n}\nsave_A4D_code();\n",
  "Magic_Run": "let arr \nlet aska = []\nfunction reverse(s){\n  return s.split(\"\").reverse().join(\"\");\n}\narr = editor.getValue()\naska = arr.split('\\n\\n\\n')\n\naska = justShowResult(aska)\nconsole.log(aska)\nlet aska2 = []\naska.map((v,st)=>{st = md5(st); aska2.push(`aska${st} = function(aska){${v}return aska\n};`)})\naska2.push(``);\naska2[aska2.length-1] = aska2.map(v=>v=v.substring(0,v.search('=')-1)+`(`)\n\naska2[aska2.length-1][0] = ``+aska2[aska2.length-1][0]\nlet aska3 = '';\n\nfor(iiii=0;iiii<aska2.length-1;iiii++){\n  aska3 += aska2[iiii]+`\n`;\n}\naska3 +=`\nlet gog = [];\ngog.push('true');\nconsole.log(gog);\n`\naska2[aska2.length-1].splice(aska2[aska2.length-1].length-1,1)\naska2[aska2.length-1] = aska2[aska2.length-1].reverse()\naska2[aska2.length-1].push(`(`)\nfor(ii=0;ii<aska2.length;ii++){\n  if(aska2[aska2.length-1][ii] == `(`){\n    aska3 += `gog`\n    for(iii=0;iii<ii;iii++){\n      aska3 += `)`\n    }\n  }else{\n  aska3 += aska2[aska2.length-1][ii]\n}\n}\n\n\naska3 = encodeURI(aska3)\nconsole.log(aska3)\nwindowManager.sharedData.set('aska',aska3)\njw = new BrowserWindow({ width: 300, height: 600, x:1930, y:0,movable:true,alwaysOnTop:true, transparent: true,skipTaskbar:true, frame: false });\njw.on('closed', function() {\n  jw = null;\n});\njw.loadURL('F:/ajr/round_interface/run_x_code2.html');\njw.webContents.once('did-finish-load',function() {\n  jw.showInactive();\n})\n\n\n",
  "d3_new_window": "kw = BrowserWindow.getFocusedWindow()\ngw = new BrowserWindow({enableLargerThanScreen: true,\n                        plugins: true,\n                        x:0,\n                        y:0,\n                        movable: true,\n                        alwaysOnTop: false,\n                        transparent: true,\n                        resizable: true,\n                        skipTaskbar: true,\n                        frame: false ,\n                        center: true,\n                        show: false\n                       });\n//gw.on('closed', function() {\n//  gw = null;\n//});\ngw.loadURL('F:/ajr/aspirin/editor/D3_interface_window.html');\nattach_right = function(){\n  let {x,y,width,height} = cw.getBounds();\n  let gx = x+width,gy = y+(height/2|0)-300;\n  gw.setPosition(gx,gy)\n}\ncw.on('move',attach_right);\n\ngw.webContents.once('did-finish-load',function() {\n  gw.setSize(300,600)\n  gw.showInactive(); \n  attach_right()\n  let  jstext = `\nvar children_id = ${gw.id};\nvar parent_id = ${kw.id};\n`\n  gw.webContents.executeJavaScript(jstext)\n});\n\n\n\n\n\n\n\n\n\n\n",
  "DNO_LIST": "\nlet dno = DNO.open('dno')\ndno.db.find({ key: { $exists: true } }).sort({key:1}).exec(function (err, docs) {\n  //justShowResult(_.zip(_(docs).pluck('key'),_(docs).pluck('source')).join('\\n--\\n'))\n  \n  var list = _(docs).chain()\n\t.map(function(v,k){\n    return `<button class=\"btn btn-mini btn-default act-choose\" data-key=\"${v.key}\">\n<span class=\"icon icon-down-open-mini\"></span> \n<span class=\"icon icon-text\"> ${v.key}</span>\n</button>`;})\n  .value().join('');\n\t\n  tpl = `\n<div class=\"btn-group\">\n<button class=\"btn btn-mini btn-default act-back\">\n<span class=\"icon icon-left-open-big\"></span>\n</button>\n<button class=\"btn btn-mini btn-default act-save\">\n<span class=\"icon icon-check\"></span>\n</button>\n</div>\n<div class=\"btn-group\">${list}</div>`;  \n\n  el = $('#second_toolbar');\n  el.html(tpl);\n  el.find('.act-back').click(just.render);\n  el.find('.act-choose').click(function(e){\n    var nn = $(this).data('key');\n    if(nn && nn != ''){\n      just.setName(nn);\n      just.render()\n      dno.run('edit');\n    }\n  });\n  \n  justShowResult('done')\n});\n//Object.keys(kk)\n'wait'\n\n",
  "DNO_SAVE": "if(just.name!=undefined){\n  DNO.open('dno').save(just.name,editor.getValue())\n}\n\n",
  "ASKA_WINDOW_UPDATE": "var gw = new BrowserWindow({enableLargerThanScreen: true,\n                        plugins: true,\n                        x:0,\n                        y:0,\n                        movable: true,\n                        alwaysOnTop: false,\n                        transparent: true,\n                        resizable: true,\n                        skipTaskbar: true,\n                        frame: false ,\n                        center: true,\n                        show: false\n                       });\n//gw.on('closed', function() {\n//  gw = null;\n//});\ngw.loadURL('F:/ajr/aspirin/editor/D3_interface_update.html');\n\ngw.webContents.once('did-finish-load',function() {\n  let level = jetpack.read('F:/ajr/ASKA_4D_buffer.json','json');\n  gw.setSize(384*level,300+200*level)\n  gw.setPosition(-10,-10)\n  gw.webContents.setZoomFactor(1)\n   gw.showInactive(); \n  //var name = 1;\n  //name = 'editor_'+name;\n  //getWin(name).object.focus();\n\n});\n\n\n\n\n\n\n\n"
}