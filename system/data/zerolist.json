{"key":0,"source":"\"The first Item\"","_id":"6nrG5ejLVXGQg8fj"}
{"key":"zeron","source":"\"The zero item\"","_id":"s60zkgP37y267YqR"}
{"key":"zero","source":"let key = 'zero';\nlet zerolist = DNO.open('zerolist');\n\n\nlet htmlsrc = `<span>zerolist.run('zero')</span> <span>: </span>` \n  + `<button class=\"btn btn-mini btn-default\" onclick=\"meta.edit_zero()\">Edit</button>`\n  + `<button class=\"btn btn-mini btn-default\" onclick=\"meta.save_zero()\">Save</button>`\n  + `<button class=\"btn btn-mini btn-default\" onclick=\"meta.list()\">!LIST!</button>`\n;\n  \n$('#meta_toolbar').html(htmlsrc)\n\n\nmeta.save_zero = ()=>{\n  zerolist.save(key, editor.getValue())  \n}\n\nmeta.edit_zero = ()=>{\n  zerolist.findOne({key}).then(v=>editor.setValue(v.source))  \n}\n\nmeta.list = ()=>{\n  \n  zerolist.db.find({ key: { $exists: true } })\n  .sort({key:1}).exec(function (err, docs) {\n  //justShowResult(_.zip(_(docs).pluck('key'),_(docs).pluck('source')).join('\\n--\\n'))\n\n  var list = _(docs).chain()\n  .map(function(v,k){\n    return `<button class=\"btn btn-mini btn-default act-choose\" data-key=\"${v.key}\">\n<span class=\"icon icon-down-open-mini\"></span> \n<span class=\"icon icon-text\"> ${v.key}</span>\n</button>`; \n }).value().join('');\n\n  tpl = `\n<div class=\"btn-group\">\n<button class=\"btn btn-mini btn-default act-back\">\n<span class=\"icon icon-left-open-big\"></span>\n</button>\n<button class=\"btn btn-mini btn-default mact-save\">\n<span class=\"icon icon-check\"></span>\n</button>\n</div>\n<div class=\"btn-group\">${list}</div>`;  \n\n  el = $('#second_toolbar');\n  el.html(tpl);\n  el.find('.mact-back').click(just.render);\n  el.find('.mact-choose').click(function(e){\n    var nn = $(this).data('key');\n    if(nn && nn != ''){\n      just.setName(nn);\n      just.render()\n      dno.run('edit').catch(e=>String(e)).then(justShowResult);\n    }\n  });\n\n  justShowResult('done')\n});\n  \n  \n  \n}\n\nmeta.s_zero = ()=>{\n  zerolist.save(key, '\"The zero item\"')  \n}\n\n//meta.save_zero()\n","_id":"xIGB2FMgRoJjvFuo"}
